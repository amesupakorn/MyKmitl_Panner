{% extends "layout.html" %}
{% load static %}

{% block title %}MyKmitl Planner{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/calendar.css' %}">
{% endblock %}

    {% block content %}
        <div class="container mx-auto p-5 flex">
            
            <div class="w-3/4">
                <h2 class="text-4xl font-bold mb-4 uppercase">My Calendar</h2>
                <div class="bg-white shadow-md rounded-lg overflow-hidden">
                    <div class="p-6">
                        <div id="calendar"></div>
                    </div>
                </div>
            </div>
    
            <!-- Sidebar for showing and adding/editing events -->
            <div class="sidebar w-1/4 bg-white shadow-md rounded-lg ml-4">
                <h4 class="text-xl font-bold mb-4">Event Details</h4>
                
                
                <form id="add-event" class="hidden">
                    <input type="hidden" id="event-id" name="event-id"> <!-- Hidden input for event ID -->
                    <div class="mb-4">
                        <label class="block mb-1">Event name</label>
                        <input type="text" class="w-full p-2 border rounded" name="ename" id="event-name" required>
                    </div>
                    <div class="mb-4">
                        <label class="block mb-1">Start Date and Time</label>
                        <input type="text" id="start-date" class="datetimepicker w-full p-2 border rounded" name="estart" required>
                    </div>
                    <div class="mb-4">
                        <label class="block mb-1">End Date and Time</label>
                        <input type="text" id="end-date" class="datetimepicker w-full p-2 border rounded" name="eend">
                    </div>
                    <div class="mb-4">
                        <label class="block mb-1">Event Description</label>
                        <textarea class="w-full p-2 border rounded" name="edesc"></textarea>
                    </div>
                    <div class="mb-4">
                        <label class="block mb-1">Event Color</label>
                        <div class="custom-dropdown">
                            <div class="dropdown-btn" id="selected-color">Select a color</div>
                            <div class="dropdown-options">
                                <div class="LightSkyBlue" data-color="#87CEFA">
                                    <div style="width: 20px; height: 20px; background-color: #87CEFA;"></div>
                                    <span>Light Sky Blue</span>
                                </div>
                                <div class="gold" data-color="#ffe038">
                                    <div style="width: 20px; height: 20px; background-color: #ffe038;"></div>
                                    <span>Gold</span>
                                </div>
                                <div class="LawnGreen" data-color="#afeb5c">
                                    <div style="width: 20px; height: 20px; background-color: #afeb5c;"></div>
                                    <span>Lawn Green</span>
                                </div>
                                <div class="PowderPink" data-color="#FFB2D0">
                                    <div style="width: 20px; height: 20px; background-color: #FFB2D0;"></div>
                                    <span>Powder Pink</span>
                                </div>
                                <div class="BrightLilac" data-color="#D891EF">
                                    <div style="width: 20px; height: 20px; background-color: #D891EF;"></div>
                                    <span>Bright Lilac</span>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="color-value" name="ecolor">
                    </div>
                    <div class="flex justify-end">
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded mr-2" id="save-btn">Save</button>
                        <button type="button" class="bg-red-500 text-white px-4 py-2 rounded mr-2 hidden" id="delete-btn">Delete</button>
                    </div>
                </form>



            </div>
        </div>
    {% endblock %}

    {% block script %}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script src="{% static 'scripts/calendar.js' %}"></script>
    {% endblock %}
    
</body>
</html>
